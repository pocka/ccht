"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[468],{3905:(e,t,l)=>{l.d(t,{Zo:()=>s,kt:()=>k});var r=l(7294);function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function o(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?a(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function i(e,t){if(null==e)return{};var l,r,n=function(e,t){if(null==e)return{};var l,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)l=a[r],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)l=a[r],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var d=r.createContext({}),u=function(e){var t=r.useContext(d),l=t;return e&&(l="function"==typeof e?e(t):o(o({},t),e)),l},s=function(e){var t=u(e.components);return r.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var l=e.components,n=e.mdxType,a=e.originalType,d=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=u(l),k=n,m=p["".concat(d,".").concat(k)]||p[k]||c[k]||a;return l?r.createElement(m,o(o({ref:t},s),{},{components:l})):r.createElement(m,o({ref:t},s))}));function k(e,t){var l=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=l.length,o=new Array(a);o[0]=p;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var u=2;u<a;u++)o[u]=l[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,l)}p.displayName="MDXCreateElement"},7905:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>u});var r=l(7462),n=(l(7294),l(3905));const a={title:"CLI"},o=void 0,i={unversionedId:"cli",id:"cli",title:"CLI",description:"To get a full list of options, run following:",source:"@site/docs/cli.md",sourceDirName:".",slug:"/cli",permalink:"/ccht/cli",draft:!1,editUrl:"https://github.com/pocka/ccht/edit/master/website/docs/cli.md",tags:[],version:"current",frontMatter:{title:"CLI"},sidebar:"api",next:{title:"Node API",permalink:"/ccht/api"}},d={},u=[{value:"Global Options",id:"global-options",level:2},{value:"<code>--crawler &lt;name&gt;</code>",id:"--crawler-name",level:3},{value:"NodeHTTP Crawler",id:"nodehttp-crawler",level:4},{value:"Puppeteer Crawler",id:"puppeteer-crawler",level:4},{value:"<code>--reporter &lt;name&gt;</code>",id:"--reporter-name",level:3},{value:"CodeFrame Reporter",id:"codeframe-reporter",level:4},{value:"JSON Reporter",id:"json-reporter",level:4},{value:"<code>--include &lt;urls&gt;</code>",id:"--include-urls",level:3},{value:"<code>--exclude &lt;urls&gt;</code>",id:"--exclude-urls",level:3},{value:"<code>--expected-status &lt;list&gt;</code>",id:"--expected-status-list",level:3},{value:"<code>--exit-error-severity &lt;severity&gt;</code>",id:"--exit-error-severity-severity",level:3},{value:"How ccht determines severity",id:"how-ccht-determines-severity",level:4},{value:"Crawler Options",id:"crawler-options",level:2},{value:"<code>--timeout &lt;ms&gt;</code>",id:"--timeout-ms",level:3},{value:"<code>--concurrency &lt;max&gt;</code>",id:"--concurrency-max",level:3},{value:"<code>--useragent &lt;string&gt;</code>",id:"--useragent-string",level:3},{value:"<code>--wait-until &lt;type&gt;</code>",id:"--wait-until-type",level:3},{value:"Reporter Options",id:"reporter-options",level:2},{value:"<code>--report-type &lt;type&gt;</code>",id:"--report-type-type",level:3},{value:"<code>--report-severity &lt;severity&gt;</code>",id:"--report-severity-severity",level:3},{value:"<code>--json-pretty</code>",id:"--json-pretty",level:3},{value:"<code>--code-frame-full-referrer</code>",id:"--code-frame-full-referrer",level:3}],s={toc:u};function c(e){let{components:t,...l}=e;return(0,n.kt)("wrapper",(0,r.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"To get a full list of options, run following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"$ npx ccht --help\n")),(0,n.kt)("h2",{id:"global-options"},"Global Options"),(0,n.kt)("h3",{id:"--crawler-name"},(0,n.kt)("inlineCode",{parentName:"h3"},"--crawler <name>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"node-http"),", ",(0,n.kt)("code",null,"puppeteer")),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"node-http"))),(0,n.kt)("p",null,"Specify which crawler to use."),(0,n.kt)("h4",{id:"nodehttp-crawler"},"NodeHTTP Crawler"),(0,n.kt)("p",null,"Use Node.js' HTTP module and ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/cheeriojs/cheerio"},"cheerio")," for crawling.\nOnly checks HTML resources."),(0,n.kt)("h4",{id:"puppeteer-crawler"},"Puppeteer Crawler"),(0,n.kt)("p",null,"Use Chrome or Chromium via puppeteer for crawling.\nChecks HTML and every resources loaded by the browser."),(0,n.kt)("h3",{id:"--reporter-name"},(0,n.kt)("inlineCode",{parentName:"h3"},"--reporter <name>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"code-frame"),", ",(0,n.kt)("code",null,"json")),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"code-frame"))),(0,n.kt)("p",null,"Specify which reporter to use."),(0,n.kt)("h4",{id:"codeframe-reporter"},"CodeFrame Reporter"),(0,n.kt)("p",null,"Outputs human friendly result, looks simlar to Jest."),(0,n.kt)("h4",{id:"json-reporter"},"JSON Reporter"),(0,n.kt)("p",null,"Outputs JSON. Useful for integration or programatic usage."),(0,n.kt)("h3",{id:"--include-urls"},(0,n.kt)("inlineCode",{parentName:"h3"},"--include <urls>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"Comma separated list of URL"),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,"Entrypoint URL")),(0,n.kt)("p",null,"URLs to check. ccht ignores URLs does not match to these URLs."),(0,n.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"ccht uses forward matching."))),(0,n.kt)("h3",{id:"--exclude-urls"},(0,n.kt)("inlineCode",{parentName:"h3"},"--exclude <urls>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"Comma separated list of URL")),(0,n.kt)("p",null,"URLs to ignore. ccht ignores URLs matches to these URLs."),(0,n.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"ccht uses forward matching."))),(0,n.kt)("h3",{id:"--expected-status-list"},(0,n.kt)("inlineCode",{parentName:"h3"},"--expected-status <list>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"Comma separated list of HTTP status code"),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"200"))),(0,n.kt)("p",null,"Expected HTTP status codes."),(0,n.kt)("h3",{id:"--exit-error-severity-severity"},(0,n.kt)("inlineCode",{parentName:"h3"},"--exit-error-severity <severity>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"debug"),", ",(0,n.kt)("code",null,"info"),", ",(0,n.kt)("code",null,"warning"),", ",(0,n.kt)("code",null,"danger")),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"danger"))),(0,n.kt)("p",null,"ccht will exit with 1 (error status) when one or more of result's serverity matches to the value."),(0,n.kt)("h4",{id:"how-ccht-determines-severity"},"How ccht determines severity"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Matches ... OK(DEBUG)"),(0,n.kt)("li",{parentName:"ul"},"Does not match but 3xx ... REDIRECT(INFO)"),(0,n.kt)("li",{parentName:"ul"},"Does not match ... UNEXPECTED_STATUS(DANGER)")),(0,n.kt)("h2",{id:"crawler-options"},"Crawler Options"),(0,n.kt)("h3",{id:"--timeout-ms"},(0,n.kt)("inlineCode",{parentName:"h3"},"--timeout <ms>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"NodeHTTP, Puppeteer"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"Number (ms)"),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"3000")," (3s)")),(0,n.kt)("p",null,"Specifies timeout value for each pages."),(0,n.kt)("h3",{id:"--concurrency-max"},(0,n.kt)("inlineCode",{parentName:"h3"},"--concurrency <max>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"NodeHTTP, Puppeteer"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"Number (integer, greater than 0)"),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"1"))),(0,n.kt)("p",null,"Sets max crawling concurrency."),(0,n.kt)("h3",{id:"--useragent-string"},(0,n.kt)("inlineCode",{parentName:"h3"},"--useragent <string>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"NodeHTTP"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"String"),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"ccht/[version number]"))),(0,n.kt)("p",null,"Sets UserAgent string used by NodeHTTP Crawler."),(0,n.kt)("h3",{id:"--wait-until-type"},(0,n.kt)("inlineCode",{parentName:"h3"},"--wait-until <type>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"Puppeteer"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,"String")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"waitUntil")," option for puppeteer's ",(0,n.kt)("a",{parentName:"p",href:"https://pptr.dev/#?product=Puppeteer&version=v5.5.0&show=api-pagegotourl-options"},(0,n.kt)("inlineCode",{parentName:"a"},"page.goto")," method"),"."),(0,n.kt)("h2",{id:"reporter-options"},"Reporter Options"),(0,n.kt)("h3",{id:"--report-type-type"},(0,n.kt)("inlineCode",{parentName:"h3"},"--report-type <type>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"CodeFrame, JSON"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"ok"),", ",(0,n.kt)("code",null,"redirect"),", ",(0,n.kt)("code",null,"unexpected_status"),", ",(0,n.kt)("code",null,"error"))),(0,n.kt)("p",null,"Sets which result type to report. Setting this option will disable ",(0,n.kt)("inlineCode",{parentName:"p"},"--report-severity")," option."),(0,n.kt)("h3",{id:"--report-severity-severity"},(0,n.kt)("inlineCode",{parentName:"h3"},"--report-severity <severity>")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"CodeFrame, JSON"),(0,n.kt)("dt",null,"Available Values"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"debug"),", ",(0,n.kt)("code",null,"info"),", ",(0,n.kt)("code",null,"warning"),", ",(0,n.kt)("code",null,"danger")),(0,n.kt)("dt",null,"Default Value"),(0,n.kt)("dd",null,(0,n.kt)("code",null,"danger,warning,info"))),(0,n.kt)("p",null,"Sets which result severity to report."),(0,n.kt)("h3",{id:"--json-pretty"},(0,n.kt)("inlineCode",{parentName:"h3"},"--json-pretty")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"JSON")),(0,n.kt)("p",null,"Enables pretty-print JSON."),(0,n.kt)("h3",{id:"--code-frame-full-referrer"},(0,n.kt)("inlineCode",{parentName:"h3"},"--code-frame-full-referrer")),(0,n.kt)("dl",null,(0,n.kt)("dt",null,"Available for"),(0,n.kt)("dd",null,"CodeFrame")),(0,n.kt)("p",null,"Always show all referrers."))}c.isMDXComponent=!0}}]);